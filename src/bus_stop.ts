import {Bus} from "./bus";export class BusStop {    public name: string;    public stopCode: string;    public distanceFromNearestPostcode: number;    public arrivingBuses: Bus[];    constructor(name: string, stopCode: string, distance: number) {        this.name = name;        this.stopCode = stopCode;        this.distanceFromNearestPostcode = distance;        this.arrivingBuses = [];    }    public async getArrivingBuses() {        const response = await fetch(`https://api.tfl.gov.uk/StopPoint/${this.stopCode}/Arrivals?app_key=8b617c3c28114b72ae60142e8d056399`);        const data: any = await response.json();        //return (data as Array<any>).map((busJSON) => Bus.parseBusJSON(busJSON));        this.arrivingBuses = (data as Array<any>).map((busJSON) => Bus.parseBusJSON(busJSON));    }    static parseBusStopJSON = (busStopJSON: any) => {        let expectedArrivalDate = new Date(busStopJSON['expectedArrival']);        let currentDate = new Date(busStopJSON['timestamp']);        let timeToArrival = (expectedArrivalDate.getTime() - currentDate.getTime()) / 60000;        return new Bus(busStopJSON["lineName"], busStopJSON["destinationName"], Math.floor(timeToArrival));    }}